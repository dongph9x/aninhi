# ğŸ½ï¸ Há»‡ Thá»‘ng Thá»©c Ä‚n CÃ¡

## ğŸ“‹ Tá»•ng Quan

Há»‡ thá»‘ng thá»©c Äƒn cÃ¡ cho phÃ©p ngÆ°á»i chÆ¡i mua vÃ  sá»­ dá»¥ng cÃ¡c loáº¡i thá»©c Äƒn khÃ¡c nhau Ä‘á»ƒ tÄƒng level cho cÃ¡ cá»§a há». Thay vÃ¬ chá»‰ cÃ³ thá»ƒ cho cÃ¡ Äƒn vá»›i cooldown 1 giá» vÃ  exp ngáº«u nhiÃªn, giá» Ä‘Ã¢y ngÆ°á»i chÆ¡i cÃ³ thá»ƒ:

- **Mua thá»©c Äƒn** tá»« Fish Shop
- **Chá»n loáº¡i thá»©c Äƒn** khi cho cÃ¡ Äƒn
- **Nháº­n exp cá»‘ Ä‘á»‹nh** dá»±a trÃªn loáº¡i thá»©c Äƒn
- **KhÃ´ng cÃ³ cooldown** khi sá»­ dá»¥ng thá»©c Äƒn

## ğŸª CÃ¡c Loáº¡i Thá»©c Ä‚n

| Loáº¡i | TÃªn | Emoji | GiÃ¡ | Exp Bonus | MÃ´ táº£ |
|------|-----|-------|-----|-----------|-------|
| `basic` | Thá»©c Ä‚n CÆ¡ Báº£n | ğŸ | 10,000 coins | +1 exp | Thá»©c Äƒn cÆ¡ báº£n cho cÃ¡ |
| `premium` | Thá»©c Ä‚n Cao Cáº¥p | ğŸ¥© | 30,000 coins | +3 exp | Thá»©c Äƒn cao cáº¥p, tÄƒng exp nhiá»u hÆ¡n |
| `luxury` | Thá»©c Ä‚n Xa Xá»‰ | ğŸ¦ | 50,000 coins | +5 exp | Thá»©c Äƒn xa xá»‰, tÄƒng exp ráº¥t nhiá»u |
| `legendary` | Thá»©c Ä‚n Huyá»n Thoáº¡i | ğŸŒŸ | 100,000 coins | +10 exp | Thá»©c Äƒn huyá»n thoáº¡i, tÄƒng exp cá»±c nhiá»u |

## ğŸ›’ CÃ¡ch Mua Thá»©c Ä‚n

### 1. Má»Ÿ Fish Shop
```
/fishshop
```

### 2. Chá»n "Mua Thá»©c Ä‚n"
- Nháº¥n nÃºt **ğŸ½ï¸ Mua Thá»©c Ä‚n** trong Fish Shop

### 3. Chá»n Loáº¡i Thá»©c Ä‚n
- Chá»n loáº¡i thá»©c Äƒn tá»« dropdown menu
- Má»—i loáº¡i cÃ³ giÃ¡ vÃ  exp bonus khÃ¡c nhau

### 4. Nháº­p Sá»‘ LÆ°á»£ng
- Nháº­p sá»‘ lÆ°á»£ng thá»©c Äƒn muá»‘n mua (1-100)
- Há»‡ thá»‘ng sáº½ tá»± Ä‘á»™ng trá»« tiá»n vÃ  thÃªm thá»©c Äƒn vÃ o inventory

## ğŸ½ï¸ CÃ¡ch Cho CÃ¡ Ä‚n

### 1. Má»Ÿ Fish Barn
```
/fishbarn
```

### 2. Chá»n CÃ¡
- Chá»n cÃ¡ muá»‘n cho Äƒn tá»« dropdown menu
- Chá»‰ cÃ¡ chÆ°a Ä‘áº¡t level 10 má»›i cÃ³ thá»ƒ cho Äƒn

### 3. Chá»n Thá»©c Ä‚n
- Sau khi chá»n cÃ¡, dropdown menu thá»©c Äƒn sáº½ xuáº¥t hiá»‡n
- Chá»n loáº¡i thá»©c Äƒn muá»‘n sá»­ dá»¥ng

### 4. Cho Ä‚n
- Nháº¥n nÃºt **ğŸ½ï¸ Cho Ä‚n**
- Há»‡ thá»‘ng sáº½ sá»­ dá»¥ng 1 thá»©c Äƒn vÃ  tÄƒng exp cho cÃ¡

## ğŸ“Š Hiá»‡u Quáº£ Thá»©c Ä‚n

### Exp Gained
- **Thá»©c Ä‚n CÆ¡ Báº£n**: +1 exp
- **Thá»©c Ä‚n Cao Cáº¥p**: +3 exp  
- **Thá»©c Ä‚n Xa Xá»‰**: +5 exp
- **Thá»©c Ä‚n Huyá»n Thoáº¡i**: +10 exp

### Level Up
- CÃ¡ sáº½ lÃªn level khi Ä‘á»§ exp
- Má»—i level cáº§n: `(level + 1) * 10` exp
- VÃ­ dá»¥: Level 1 â†’ 2 cáº§n 20 exp, Level 2 â†’ 3 cáº§n 30 exp

### GiÃ¡ Trá»‹ TÄƒng
- Má»—i level tÄƒng 2% giÃ¡ trá»‹ cÃ¡
- VÃ­ dá»¥: CÃ¡ level 1 giÃ¡ 10,000 â†’ level 2 giÃ¡ 10,200

## ğŸ”§ Cáº¥u TrÃºc Ká»¹ Thuáº­t

### Database Schema
```sql
model FishFood {
  id            String   @id @default(cuid())
  userId        String
  guildId       String
  foodType      String
  quantity      Int      @default(0)
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt
  user          User     @relation(fields: [userId, guildId], references: [userId, guildId])

  @@unique([userId, guildId, foodType])
  @@index([userId, guildId])
  @@index([foodType])
}
```

### Services
- **FishFoodService**: Quáº£n lÃ½ mua, sá»­ dá»¥ng, lÆ°u trá»¯ thá»©c Äƒn
- **FishBreedingService.feedFishWithFood()**: Cho cÃ¡ Äƒn vá»›i thá»©c Äƒn

### Components
- **FishingShop**: ThÃªm option mua thá»©c Äƒn
- **BuyFishFood**: Xá»­ lÃ½ chá»n thá»©c Äƒn Ä‘á»ƒ mua
- **BuyFishFoodModal**: Modal nháº­p sá»‘ lÆ°á»£ng
- **FishBarnUI**: Hiá»ƒn thá»‹ chá»n thá»©c Äƒn khi cho cÃ¡ Äƒn
- **FishBarnHandler**: Xá»­ lÃ½ logic chá»n thá»©c Äƒn vÃ  cho Äƒn

## ğŸ¯ Lá»£i Ãch

### Cho NgÆ°á»i ChÆ¡i
- **Kiá»ƒm soÃ¡t exp**: Biáº¿t chÃ­nh xÃ¡c exp sáº½ nháº­n
- **KhÃ´ng cooldown**: Cho cÃ¡ Äƒn báº¥t cá»© lÃºc nÃ o
- **Linh hoáº¡t**: Chá»n loáº¡i thá»©c Äƒn phÃ¹ há»£p vá»›i budget
- **Hiá»‡u quáº£**: TÄƒng level nhanh hÆ¡n

### Cho Há»‡ Thá»‘ng
- **Kinh táº¿**: Táº¡o thÃªm sink cho coins
- **CÃ¢n báº±ng**: KhÃ´ng quÃ¡ máº¡nh, khÃ´ng quÃ¡ yáº¿u
- **Má»Ÿ rá»™ng**: Dá»… dÃ ng thÃªm loáº¡i thá»©c Äƒn má»›i

## ğŸš€ TÃ­nh NÄƒng TÆ°Æ¡ng Lai

### CÃ³ Thá»ƒ ThÃªm
- **Thá»©c Äƒn Ä‘áº·c biá»‡t**: TÄƒng stats thay vÃ¬ chá»‰ exp
- **Thá»©c Äƒn theo loáº¡i cÃ¡**: Bonus cho tá»«ng loáº¡i cÃ¡
- **Thá»©c Äƒn thá»i gian**: Hiá»‡u quáº£ trong thá»i gian nháº¥t Ä‘á»‹nh
- **Thá»©c Äƒn hiáº¿m**: Chá»‰ cÃ³ thá»ƒ mua báº±ng currency Ä‘áº·c biá»‡t

### Cáº£i Tiáº¿n UI
- **Hiá»ƒn thá»‹ exp cáº§n**: Cho biáº¿t cáº§n bao nhiÃªu exp Ä‘á»ƒ lÃªn level
- **Dá»± Ä‘oÃ¡n level**: TÃ­nh toÃ¡n level sáº½ Ä‘áº¡t sau khi Äƒn
- **So sÃ¡nh thá»©c Äƒn**: Hiá»ƒn thá»‹ hiá»‡u quáº£ cá»§a tá»«ng loáº¡i

## ğŸ“ Ghi ChÃº

- Thá»©c Äƒn Ä‘Æ°á»£c lÆ°u trá»¯ theo user vÃ  guild
- Má»—i láº§n cho Äƒn sá»­ dá»¥ng 1 thá»©c Äƒn
- CÃ¡ level 10 khÃ´ng thá»ƒ cho Äƒn thÃªm
- KhÃ´ng cÃ³ giá»›i háº¡n sá»‘ lÆ°á»£ng thá»©c Äƒn cÃ³ thá»ƒ mua
- Thá»©c Äƒn khÃ´ng bá»‹ máº¥t khi restart bot 